{"version":3,"file":"static/js/495.ffac1fa0.chunk.js","mappings":"gTAWMA,GAAaC,EAAAA,EAAAA,KAAS,WACxB,IAAQC,GAASC,EAAAA,EAAAA,YAAWC,EAAAA,GAApBF,KACFG,GAAYC,EAAAA,EAAAA,MAClB,GAAwBC,EAAAA,EAAAA,UAAS,IAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAgCJ,EAAAA,EAAAA,UAAS,IAAzC,eAAOK,EAAP,KAAiBC,EAAjB,KAEMC,EAAM,yCAAG,2GACYC,EAAAA,EAAAA,KAAW,oBAAqB,CAAEP,KAAAA,EAAME,MAAAA,EAAOE,SAAAA,IAD3D,OAGa,OAFlBI,EADK,QAGEC,SACLC,GAASC,EAAAA,EAAAA,GAAUH,EAASI,KAAKC,OACrCnB,EAAKoB,QAAQ,CACTC,GAAIL,EAAOK,GACXf,KAAMU,EAAOV,KACbE,MAAOQ,EAAOR,MACdc,KAAMN,EAAOM,OAEjBtB,EAAKuB,WAAU,GACfC,aAAaC,QAAQ,QAAS,UAAYX,EAASI,KAAKC,OACxDhB,EAAU,MAbH,2CAAH,qDAiBZ,OACI,UAAC,KAAD,CAAauB,KAAK,QAAQC,GAAG,WAAWC,QAAS,GAAIC,EAAE,OAAOC,QAAQ,OAAOC,cAAc,SAASC,WAAW,SAA/G,WACI,SAAC,KAAD,CAASC,GAAG,OAAZ,2EACA,SAAC,KAAD,CAAON,GAAG,WAAWO,EAAE,MAAMD,GAAG,OAAOE,KAAK,OAAOC,YAAY,sBAAOC,MAAO/B,EAAMgC,SAAU,SAACC,GAAD,OAAOhC,EAAQgC,EAAEC,OAAOH,WACrH,SAAC,KAAD,CAAOV,GAAG,WAAWO,EAAE,MAAMD,GAAG,OAAOE,KAAK,QAAQC,YAAY,QAAQC,MAAO7B,EAAO8B,SAAU,SAACC,GAAD,OAAO9B,EAAS8B,EAAEC,OAAOH,WACzH,SAAC,KAAD,CAAOV,GAAG,WAAWO,EAAE,MAAMD,GAAG,OAAOE,KAAK,WAAWC,YAAY,uCAASC,MAAO3B,EAAU4B,SAAU,SAACC,GAAD,OAAO5B,EAAY4B,EAAEC,OAAOH,WACnI,SAAC,KAAD,CAAQH,EAAE,MAAMD,GAAG,OAAOQ,YAAY,OAAOC,QAAS9B,EAAtD,yGACA,SAAC,KAAD,CAAM+B,GAAIC,EAAAA,GAAV,wDAKZ,I,UCpCA,GANe7C,EAAAA,EAAAA,KAAS,WACpB,OAAO,gBAAKsB,GAAIwB,EAAAA,EAAAA,QAAT,UACH,SAACC,EAAD,U,qCCLFC,E,MAAWlC,GAAAA,OAAa,CAC5BmC,QAAS,2CACTC,QAAS,CACP,wBAAiBzB,aAAa0B,QAAQ,gBAAtC,QAAkD,MAItDH,EAASI,aAAarC,SAASsC,KAC7B,SAAAC,GAAG,OAAIA,KACP,SAAAC,GAIE,OAH8B,MAA1BA,EAAMxC,SAASC,QACjBS,aAAa+B,WAAW,SAEnBC,QAAQC,OAAOH,MAI1B,O,mBClBA,KAAgB,QAAU","sources":["components/AuthForms/SignUp.js","pages/auth/SignUp.js","utils/axios.js","webpack://client/./src/pages/auth/Auth.module.scss?a5aa"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from '../../utils/axios';\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { SIGN_IN } from \"../../routes/const\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Input, Heading, FormControl } from \"@chakra-ui/react\";\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\n\r\nconst SignUpForm = observer(() => {\r\n    const { user } = useContext(Context);\r\n    const navigator = useNavigate();\r\n    const [name, setName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const submit = async () => {\r\n        const response = await axios.post('user/registration', { name, email, password });\r\n\r\n        if (response.status === 200) {\r\n            var decode = jwtDecode(response.data.token)\r\n            user.setUser({\r\n                id: decode.id,\r\n                name: decode.name,\r\n                email: decode.email,\r\n                role: decode.role\r\n            })\r\n            user.setIsAuth(true)\r\n            localStorage.setItem(\"Token\", \"Bearer \" + response.data.token);\r\n            navigator('/');\r\n        };\r\n    }\r\n\r\n    return (\r\n        <FormControl maxW='500px' bg='gray.200' rounded={10} p=\"20px\" display='flex' flexDirection=\"column\" alignItems=\"center\">\r\n            <Heading my=\"20px\">Реєстрація</Heading>\r\n            <Input bg='gray.100' w=\"80%\" my=\"10px\" type='text' placeholder=\"Ім'я\" value={name} onChange={(e) => setName(e.target.value)} />\r\n            <Input bg='gray.100' w=\"80%\" my=\"10px\" type='email' placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n            <Input bg='gray.100' w=\"80%\" my=\"10px\" type='password' placeholder=\"Пароль\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n            <Button w=\"80%\" my=\"10px\" colorScheme=\"teal\" onClick={submit}>Зареєструватись</Button>\r\n            <Link to={SIGN_IN}>Увійти</Link>\r\n        </FormControl>\r\n    );\r\n})\r\n\r\nexport default SignUpForm;\r\n","import React from \"react\";\r\nimport SignUpForm from \"../../components/AuthForms/SignUp\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport styles from \"./Auth.module.scss\";\r\n\r\nconst SignUp = observer(() => {\r\n    return <div id={styles.wrapper}>\r\n        <SignUpForm />\r\n    </div>;\r\n});\r\n\r\nexport default SignUp;\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://mydiplomlevas.herokuapp.com/api/\",\r\n  headers: {\r\n    'Authorization': localStorage.getItem(\"Token\") ?? \"\"\r\n  }\r\n});\r\n\r\ninstance.interceptors.response.use(\r\n  res => res,\r\n  error => {\r\n    if (error.response.status === 401) {\r\n      localStorage.removeItem(\"Token\");\r\n    };\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default instance;","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Auth_wrapper__Od48h\"};"],"names":["SignUpForm","observer","user","useContext","Context","navigator","useNavigate","useState","name","setName","email","setEmail","password","setPassword","submit","axios","response","status","decode","jwtDecode","data","token","setUser","id","role","setIsAuth","localStorage","setItem","maxW","bg","rounded","p","display","flexDirection","alignItems","my","w","type","placeholder","value","onChange","e","target","colorScheme","onClick","to","SIGN_IN","styles","SignUp","instance","baseURL","headers","getItem","interceptors","use","res","error","removeItem","Promise","reject"],"sourceRoot":""}