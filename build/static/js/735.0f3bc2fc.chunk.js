"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[735],{5136:function(e,n,t){t.r(n);var r=t(8214),c=t(5861),i=t(885),s=t(2791),o=t(8735),u=t(3046),a=t(5154),l=t(2504),x=t(5272),p=t(9731),d=t(184);n.default=function(){var e=(0,s.useState)([]),n=(0,i.Z)(e,2),t=n[0],f=n[1],h=(0,s.useState)(0),g=(0,i.Z)(h,2),m=g[0],j=g[1];function k(){return(k=(0,c.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.get("basket/get");case 2:200===(n=e.sent).status&&(f(n.data),t=n.data.reduce((function(e,n){return e+n.price*n.count}),0),j(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=(0,c.Z)((0,r.Z)().mark((function e(n){var c,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.id,i=n.itemPrice,e.next=3,p.Z.delete("basket/".concat(c));case 3:200===e.sent.status&&(f(t.filter((function(e){return e.id!==c}))),j(m-i));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,s.useEffect)((function(){!function(){k.apply(this,arguments)}()}),[]),(0,d.jsx)(o.W2,{maxWidth:1080,paddingBottom:"200px",children:t.length?(0,d.jsxs)(o.gC,{children:[t.map((function(e,n){return(0,d.jsxs)(o.kC,{w:"100%",h:"150px",rounded:10,bg:"gray.200",m:4,p:"15px 20px 15px 20px",justifyContent:"space-between",children:[(0,d.jsxs)(o.kC,{children:[(0,d.jsx)(u.Ee,{h:"100%",w:"auto",rounded:5,src:e.image}),(0,d.jsxs)(o.kC,{mx:4,my:1,flexDirection:"column",justifyContent:"space-between",children:[(0,d.jsx)(o.xv,{fontSize:"30px",color:"gray.800",lineHeight:"30px",children:e.name}),(0,d.jsxs)(a.Y2,{defaultValue:e.count,min:1,w:"100px",bg:"gray.100",rounded:2,onChange:function(n){e.count=n,function(){var e=t.reduce((function(e,n){return e+n.price*n.count}),0);j(e)}()},children:[(0,d.jsx)(a.zu,{}),(0,d.jsxs)(a.Fi,{children:[(0,d.jsx)(a.WQ,{}),(0,d.jsx)(a.Y_,{})]})]})]})]}),(0,d.jsxs)(o.kC,{flexDir:"column",justifyContent:"space-between",alignItems:"flex-end",children:[(0,d.jsx)(l.zx,{w:"40px",h:"40px",colorScheme:"red",onClick:function(){return function(e){return v.apply(this,arguments)}({id:e.id,itemPrice:e.price*e.count})},children:(0,d.jsx)(x.pJ,{})}),(0,d.jsxs)(o.xv,{mx:4,fontSize:"30px",m:"0",color:"gray.600",children:[e.price,"\u20b4"]})]})]},n)})),(0,d.jsxs)(o.kC,{alignItems:"center",alignSelf:"end",borderWidth:"2px",borderColor:"green.300",rounded:5,bg:"green.100",p:"20px",children:[(0,d.jsxs)(o.xv,{fontSize:"30px",marginRight:"30px",color:"gray.600",children:[m,"\u20b4"]}),(0,d.jsx)(l.zx,{colorScheme:"green",children:"\u041a\u0443\u043f\u0438\u0442\u0438"})]})]}):(0,d.jsx)(o.xu,{position:"fixed",top:"50%",left:"calc(50% - 30px)",children:(0,d.jsx)(o.xv,{fontSize:"40px",children:"\u041f\u0443\u0441\u0442\u043e"})})})}},9731:function(e,n,t){var r,c=t(4569),i=t.n(c)().create({baseURL:"http://localhost:8000/api/",headers:{Authorization:null!==(r=localStorage.getItem("Token"))&&void 0!==r?r:""}});i.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status&&localStorage.removeItem("Token"),Promise.reject(e)})),n.Z=i}}]);
//# sourceMappingURL=735.0f3bc2fc.chunk.js.map