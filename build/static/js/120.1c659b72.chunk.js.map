{"version":3,"file":"static/js/120.1c659b72.chunk.js","mappings":"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","sources":["validation/singup.js","components/AuthForms/SignUp.js","pages/auth/SignUp.js","utils/axios.js","webpack://client/./src/pages/auth/Auth.module.scss?a5aa"],"sourcesContent":["import * as yup from \"yup\"\r\n\r\nexport default yup().object().shape({\r\n    name: yup().string().required(\"Enter name\"),\r\n    email: yup().string().email().required(\"Email is invalid\").max(20),\r\n    password: yup().string().required(\"Password have to be from 6 to 16 characters\").min(6).max(16),\r\n})","import React, { useContext, useState } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from '../../utils/axios';\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { SIGN_IN } from \"../../routes/const\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Input, Heading, FormControl } from \"@chakra-ui/react\";\r\nimport jwtDecode from \"jwt-decode\";\r\nimport yupValidation from \"../../validation/singup\"\r\n\r\n\r\nconst SignUpForm = observer(() => {\r\n    const { user } = useContext(Context);\r\n    const navigator = useNavigate();\r\n    const [name, setName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [nameerr, setNameerr] = useState('');\r\n    const [emailerr, setEmailerr] = useState('');\r\n    const [passworderr, setPassworderr] = useState('');\r\n    const [namedirt, setNamedirt] = useState(false);\r\n    const [emaildirt, setEmaildirt] = useState(false);\r\n    const [passworddirt, setPassworddirt] = useState(false);\r\n\r\n    const submit = async () => {\r\n        const response = await axios.post('user/registration', { name, email, password });\r\n\r\n        if (response.status === 200) {\r\n            var decode = jwtDecode(response.data.token)\r\n            user.setUser({\r\n                id: decode.id,\r\n                name: decode.name,\r\n                email: decode.email,\r\n                role: decode.role\r\n            })\r\n            user.setIsAuth(true)\r\n            localStorage.setItem(\"Token\", \"Bearer \" + response.data.token);\r\n            navigator('/');\r\n        };\r\n    }\r\n\r\n    return (\r\n        <FormControl maxW='500px' bg='gray.200' rounded={10} p=\"20px\" display='flex' flexDirection=\"column\" alignItems=\"center\">\r\n            <Heading my=\"20px\">Реєстрація</Heading>\r\n            <Input bg='gray.100' w=\"80%\" my=\"10px\" type='text' placeholder=\"Ім'я\" value={name} onChange={(e) => setName(e.target.value)} />\r\n            <Input bg='gray.100' w=\"80%\" my=\"10px\" type='email' placeholder=\"Email\" value={email} onBlur={setEmaildirt(true)}\r\n                onChange={(e) => {\r\n                    setEmail(e.target.value);\r\n                    var re = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\r\n                    if (!re.test(String(e.target.value).toLowerCase())) {\r\n                        setEmailerr(\"Неправильна почта\")\r\n                    };\r\n                }\r\n\r\n                }\r\n            />\r\n            <Input bg='gray.100' w=\"80%\" my=\"10px\" type='password' placeholder=\"Пароль\" value={password} onBlur={setEmaildirt(true)} onChange={(e) => setPassword(e.target.value)} />\r\n            <Button w=\"80%\" my=\"10px\" colorScheme=\"teal\" onClick={submit}>Зареєструватись</Button>\r\n            <Link to={SIGN_IN}>Увійти</Link>\r\n        </FormControl>\r\n    );\r\n})\r\n\r\nexport default SignUpForm;\r\n","import React from \"react\";\r\nimport SignUpForm from \"../../components/AuthForms/SignUp\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport styles from \"./Auth.module.scss\";\r\n\r\nconst SignUp = observer(() => {\r\n    return <div id={styles.wrapper}>\r\n        <SignUpForm />\r\n    </div>;\r\n});\r\n\r\nexport default SignUp;\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"http://localhost:8000/api/\",\r\n  headers: {\r\n    'Authorization': localStorage.getItem(\"Token\") ?? \"\"\r\n  }\r\n});\r\n\r\ninstance.interceptors.response.use(\r\n  res => res,\r\n  error => {\r\n    if (error.response.status === 401) {\r\n      localStorage.removeItem(\"Token\");\r\n    };\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default instance;","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Auth_wrapper__Od48h\"};"],"names":["yup","object","shape","name","string","required","email","max","password","min","SignUpForm","observer","user","useContext","Context","navigator","useNavigate","useState","setName","setEmail","setPassword","setEmailerr","setEmaildirt","submit","axios","response","status","decode","jwtDecode","data","token","setUser","id","role","setIsAuth","localStorage","setItem","maxW","bg","rounded","p","display","flexDirection","alignItems","my","w","type","placeholder","value","onChange","e","target","onBlur","test","String","toLowerCase","colorScheme","onClick","to","SIGN_IN","styles","SignUp","instance","baseURL","headers","getItem","interceptors","use","res","error","removeItem","Promise","reject"],"sourceRoot":""}